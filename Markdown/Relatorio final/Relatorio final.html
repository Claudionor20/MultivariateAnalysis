<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Caio Falcão, Claudionor Ferreira, Guilherme Ceacero, Paulo Martinez">

<title>Análise Multivariada</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Relatorio final_files/libs/clipboard/clipboard.min.js"></script>
<script src="Relatorio final_files/libs/quarto-html/quarto.js"></script>
<script src="Relatorio final_files/libs/quarto-html/popper.min.js"></script>
<script src="Relatorio final_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Relatorio final_files/libs/quarto-html/anchor.min.js"></script>
<link href="Relatorio final_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Relatorio final_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Relatorio final_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Relatorio final_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Relatorio final_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">INDEX</h2>
   
  <ul>
  <li><a href="#questão-1" id="toc-questão-1" class="nav-link active" data-scroll-target="#questão-1">Questão 1</a>
  <ul class="collapse">
  <li><a href="#considerações" id="toc-considerações" class="nav-link" data-scroll-target="#considerações">Considerações</a>
  <ul class="collapse">
  <li><a href="#definições" id="toc-definições" class="nav-link" data-scroll-target="#definições">Definições</a></li>
  <li><a href="#projeção" id="toc-projeção" class="nav-link" data-scroll-target="#projeção">Projeção</a></li>
  <li><a href="#maximização-da-distância" id="toc-maximização-da-distância" class="nav-link" data-scroll-target="#maximização-da-distância">Maximização da Distância</a></li>
  </ul></li>
  <li><a href="#demonstração" id="toc-demonstração" class="nav-link" data-scroll-target="#demonstração">Demonstração</a></li>
  <li><a href="#conclusão" id="toc-conclusão" class="nav-link" data-scroll-target="#conclusão">Conclusão</a></li>
  </ul></li>
  <li><a href="#questão-2" id="toc-questão-2" class="nav-link" data-scroll-target="#questão-2">Questão 2</a>
  <ul class="collapse">
  <li><a href="#análise-descritiva" id="toc-análise-descritiva" class="nav-link" data-scroll-target="#análise-descritiva">Análise descritiva:</a></li>
  <li><a href="#análise-de-discriminante" id="toc-análise-de-discriminante" class="nav-link" data-scroll-target="#análise-de-discriminante">Análise de discriminante</a></li>
  <li><a href="#k-means" id="toc-k-means" class="nav-link" data-scroll-target="#k-means">K-means</a></li>
  <li><a href="#agrupamento-hierárquico" id="toc-agrupamento-hierárquico" class="nav-link" data-scroll-target="#agrupamento-hierárquico">Agrupamento hierárquico</a></li>
  </ul></li>
  <li><a href="#questão-3" id="toc-questão-3" class="nav-link" data-scroll-target="#questão-3">Questão 3</a>
  <ul class="collapse">
  <li><a href="#hierarquia-parcial" id="toc-hierarquia-parcial" class="nav-link" data-scroll-target="#hierarquia-parcial">Hierarquia parcial</a></li>
  <li><a href="#hierarquia-completa" id="toc-hierarquia-completa" class="nav-link" data-scroll-target="#hierarquia-completa">Hierarquia completa</a></li>
  <li><a href="#hierarquica-completa-com-average" id="toc-hierarquica-completa-com-average" class="nav-link" data-scroll-target="#hierarquica-completa-com-average">Hierarquica completa com average</a></li>
  <li><a href="#cortando-as-árvores" id="toc-cortando-as-árvores" class="nav-link" data-scroll-target="#cortando-as-árvores">cortando as árvores</a></li>
  <li><a href="#visualização-gráfico---pesquisar-sobre" id="toc-visualização-gráfico---pesquisar-sobre" class="nav-link" data-scroll-target="#visualização-gráfico---pesquisar-sobre">Visualização gráfico -&gt; pesquisar sobre</a></li>
  </ul></li>
  <li><a href="#questão-4" id="toc-questão-4" class="nav-link" data-scroll-target="#questão-4">Questão 4</a>
  <ul class="collapse">
  <li><a href="#bases" id="toc-bases" class="nav-link" data-scroll-target="#bases">Bases</a></li>
  <li><a href="#análise-descritiva-de-dados" id="toc-análise-descritiva-de-dados" class="nav-link" data-scroll-target="#análise-descritiva-de-dados">Análise Descritiva de Dados</a>
  <ul class="collapse">
  <li><a href="#média-de-ips-ao-longo-dos-anos-por-região-administrativa" id="toc-média-de-ips-ao-longo-dos-anos-por-região-administrativa" class="nav-link" data-scroll-target="#média-de-ips-ao-longo-dos-anos-por-região-administrativa">Média de IPS ao longo dos anos por região administrativa</a></li>
  <li><a href="#evolução-anual-do-ips-de-cada-regisão-administrativa" id="toc-evolução-anual-do-ips-de-cada-regisão-administrativa" class="nav-link" data-scroll-target="#evolução-anual-do-ips-de-cada-regisão-administrativa">Evolução anual do IPS de cada regisão administrativa</a></li>
  <li><a href="#boxplot-dos-indicadores-de-ips-por-ano" id="toc-boxplot-dos-indicadores-de-ips-por-ano" class="nav-link" data-scroll-target="#boxplot-dos-indicadores-de-ips-por-ano">Boxplot dos indicadores de IPS por ano</a></li>
  <li><a href="#histogramas" id="toc-histogramas" class="nav-link" data-scroll-target="#histogramas">Histogramas</a></li>
  <li><a href="#análise-de-correlação" id="toc-análise-de-correlação" class="nav-link" data-scroll-target="#análise-de-correlação">Análise de Correlação</a></li>
  <li><a href="#variáveis-de-alta-correlação-com-ips" id="toc-variáveis-de-alta-correlação-com-ips" class="nav-link" data-scroll-target="#variáveis-de-alta-correlação-com-ips">Variáveis de alta correlação com IPS</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Análise Multivariada</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Caio Falcão, Claudionor Ferreira, Guilherme Ceacero, Paulo Martinez </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p>Trabalho final da disciplina de Análise Multivariada, referente ao primeiro período de 2024. Esse trabalho é uma colaboração de Caio Falcão, Claudionor Ferreira, Guilherme Ceacero e Paulo Martinez.</p>
<section id="questão-1" class="level1">
<h1>Questão 1</h1>
<p>Nesta seção, demonstramos a direção discriminante de Fisher para discriminação linear entre duas populações. Consideramos duas populações <span class="math inline">\(\pi_1\)</span> e <span class="math inline">\(\pi_2\)</span> baseadas na amostra rotulada <span class="math inline">\(( {(xj , \pi_i), \space j = 1, \ldots , n, \space i = 1, 2} )\)</span>, em que <span class="math inline">\(n_1 + n_2 = n\)</span> e <span class="math inline">\(n_i\)</span> é o número de elementos da população <span class="math inline">\(\pi_i\)</span>.</p>
<section id="considerações" class="level2">
<h2 class="anchored" data-anchor-id="considerações">Considerações</h2>
<section id="definições" class="level3">
<h3 class="anchored" data-anchor-id="definições">Definições</h3>
<ul>
<li><span class="math inline">\(\bar{x}_i\)</span> representa o vetor de médias das observações em <span class="math inline">\(\pi_i\)</span>.</li>
<li><span class="math inline">\(S_i\)</span> representa a matriz de covariâncias amostral das observações em <span class="math inline">\(\pi\_i\)</span>.</li>
<li><span class="math inline">\(S_p\)</span> = <span class="math inline">\(\frac{(n_1-1)S_1 + (n_2-1)S_2}{n-2}\)</span> é a matriz de covariâncias combinada.</li>
</ul>
</section>
<section id="projeção" class="level3">
<h3 class="anchored" data-anchor-id="projeção">Projeção</h3>
<p>Para <span class="math inline">\(\alpha, x \in \mathbb{R}^p\)</span>, definimos a projeção como:</p>
<p><span class="math display">\[
\begin{align}
&amp; z = \alpha^T x
\end{align}
\]</span></p>
<p>E consequentemente, as médias das populações <span class="math inline">\(\pi_1\)</span> e <span class="math inline">\(\pi_2\)</span> projetadas serão</p>
<p><span class="math inline">\(\hat m_1 = \alpha^T \space \bar{x}_1\)</span></p>
<p><span class="math inline">\(\hat m_2 = \alpha^T \space \bar{x}_1\)</span></p>
<p>E a diferença dessas projeções sendo</p>
<p><span class="math inline">\(\hat m_1 - \hat m_2 = \alpha^T(\bar{x}_1 - \bar{x}_2)\)</span>.</p>
<p>A variabilidade resultante na projeção é a variância da projeção <span class="math inline">\(z\)</span>, que é dada por</p>
<p><span class="math display">\[
\begin{align}
    &amp; Var(z) = Var(\alpha^T x) \nonumber \\
    &amp; = \alpha^T \space Var(x) \space \alpha \nonumber \\
    &amp; = \alpha^T \mathcal{S}_p \space \alpha \nonumber
\end{align}
\]</span></p>
<p>E então, <span class="math inline">\(\phi = \left(\frac{\hat m_1 - \hat m_2}{S_z}\right)^2 = \left(\frac{\alpha^T (\bar{x}_1 - \bar{x}_2)}{\sqrt{\alpha^T S_p \space \alpha}}\right)^2\)</span>.</p>
</section>
<section id="maximização-da-distância" class="level3">
<h3 class="anchored" data-anchor-id="maximização-da-distância">Maximização da Distância</h3>
<p>Queremos encontrar a direção <span class="math inline">\(\alpha\)</span> que maximiza a distância entre as médias projetadas das populações com relação à variabilidade resultante na projeção. Ou seja, queremos maximizar:</p>
<p><span class="math display">\[
\begin{equation}
\phi = \left(\frac{\alpha^T (\bar{x}_1 - \bar{x}_2)}{\sqrt{\alpha^T S_p \alpha}}\right)^2
\end{equation}
\]</span></p>
</section>
</section>
<section id="demonstração" class="level2">
<h2 class="anchored" data-anchor-id="demonstração">Demonstração</h2>
<p>Vamos aplicar a restrição <span class="math inline">\(\alpha^T S_p \space \alpha\)</span> constante e igual à <span class="math inline">\(1\)</span>, pois do contrário poderíamos ter <span class="math inline">\(\phi\)</span> tão grande quanto desejável. Nesse caso, então, vamos usar o método de Lagrange para otimização com restrição.</p>
<p>Começamos com a expressão a ser maximizada:</p>
<p><span class="math display">\[
\phi = \frac{(\alpha^T (\bar{x}_1 - \bar{x}_2))^2}{\alpha^T S_p \space \alpha}
\]</span></p>
<p>Para maximizar <span class="math inline">\(\phi\)</span>, usamos multiplicadores de Lagrange. Definimos a função Lagrangiana:</p>
<p><span class="math display">\[
\mathcal{L}(\alpha, \lambda) = (\alpha^T (\bar{x}_1 - \bar{x}_2))^2 - \lambda (\alpha^T S_p \space \alpha - 1)
\]</span></p>
<p>Tomamos a derivada em relação a <span class="math inline">\(\alpha\)</span> e a igualamos a zero:</p>
<p><span class="math display">\[
\frac{\partial \mathcal{L}}{\partial \alpha} = 2 (\bar{x}_1 - \bar{x}_2) (\alpha^T (\bar{x}_1 - \bar{x}_2)) - \lambda 2 S_p \alpha = 0
\]</span></p>
<p>E agora, para <span class="math inline">\(\lambda\)</span>:</p>
<p><span class="math display">\[
\frac{\partial \mathcal{L}}{\partial \lambda} = \alpha^T S_p \space \alpha - 1
\]</span></p>
<p>O que nos fornece então o seguinte sistema de equações:</p>
<p><span class="math display">\[
\begin{cases}
\frac{\partial \mathcal{L}}{\partial \alpha} = 2 (\bar{x}_1 - \bar{x}_2) (\alpha^T (\bar{x}_1 - \bar{x}_2)) - \lambda 2 S_p \space \alpha = 0 \\
\\
\frac{\partial \mathcal{L}}{\partial \lambda} = \alpha^T S_p \space \alpha - 1
\end{cases}
\]</span></p>
<p>Da primeira equação, temos que</p>
<p><span class="math display">\[
(\bar{x}_1 - \bar{x}_2) = \lambda S_p \space \alpha
\]</span></p>
<p>Para encontrar <span class="math inline">\(\lambda\)</span>, substituímos <span class="math inline">\(\alpha\)</span> na segunda equação de restrição:</p>
<p><span class="math display">\[
\begin{equation}
(\bar{x}_1 - \bar{x}_2) = \lambda S_p \space \alpha \implies \alpha = \frac{S_p^{-1}(\bar{x}_1 - \bar{x}_2)}{\lambda}
\end{equation}
\]</span></p>
<p>A partir da restrição <span class="math inline">\(\alpha^T S_p \space \alpha = 1\)</span>, temos:</p>
<p><span class="math display">\[
\begin{align}
&amp; \left(\frac{S_p^{-1}(\bar{x}_1 - \bar{x}_2)}{\lambda}\right)^T S_p \left(\frac{S_p(\bar{x}_1 - \bar{x}_2)}{\lambda}\right) = 1 \nonumber \\
&amp; \frac{1}{\lambda^2}(\bar{x}_1 - \bar{x}_2)^T S_p^{-1} \space S_p S_p^{-1} (\bar{x}_1 - \bar{x}_2) = 1 \nonumber \\
&amp; \lambda^2 = (\bar{x}_1 - \bar{x}_2)^T S_p^{-1} (\bar{x}_1 - \bar{x}_2) \nonumber \\
&amp; \lambda = \sqrt{(\bar{x}_1 - \bar{x}_2)^T S_p^{-1} (\bar{x}_1 - \bar{x}_2)}
\end{align}
\]</span></p>
<p>E agora, substituindo <span class="math inline">\(\lambda\)</span> encontrado em (4) na equação de <span class="math inline">\(\alpha\)</span> (3), temos:</p>
<p><span class="math display">\[
\begin{equation}
\alpha = \frac{S_p^{-1}(\bar{x}_1 - \bar{x}_2)}{\sqrt{(\bar{x}_1 - \bar{x}_2)^T S_p^{-1} (\bar{x}_1 - \bar{x}_2)}}
\end{equation}
\]</span></p>
<p>Note que o denominador dessa equação é um escalar <span class="math inline">\(1x1\)</span>, e portanto, a direção de <span class="math inline">\(\alpha\)</span> que maximiza a diferença das duas populações é dada pelo vetor <span class="math inline">\(\alpha = S_p^{-1}(\bar{x}_1 - \bar{x}_2)\)</span> pelo método de otimização restrita de Lagrange.</p>
</section>
<section id="conclusão" class="level2">
<h2 class="anchored" data-anchor-id="conclusão">Conclusão</h2>
<p>Dessa forma, mostramos que a direção <span class="math inline">\(\alpha\)</span> que maximiza a distância entre as médias projetadas das populações com relação à variabilidade resultante na projeção é a direção discriminante de Fisher.</p>
</section>
</section>
<section id="questão-2" class="level1">
<h1>Questão 2</h1>
<p>Após realizar a importação da base de dados, verificamos se a base possui valores faltantes e se as variáveis estão corretamente formatadas:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(candisc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: heplots</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: broom</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Anexando pacote: 'candisc'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por 'package:stats':

    cancor</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(Wolves)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Wolves)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     group location sex  x1  x2  x3   x4   x5   x6   x7   x8   x9
rmm1  rm:m       rm   m 126 104 141 81.0 31.8 65.7 50.9 44.0 18.2
rmm2  rm:m       rm   m 128 111 151 80.4 33.8 69.8 52.7 43.2 18.5
rmm3  rm:m       rm   m 126 108 152 85.7 34.7 69.1 49.3 45.6 17.9
rmm4  rm:m       rm   m 125 109 141 83.1 34.0 68.0 48.2 43.8 18.4
rmm5  rm:m       rm   m 126 107 143 81.9 34.0 66.1 49.0 42.4 17.9
rmm6  rm:m       rm   m 128 110 143 80.6 33.0 65.0 46.4 40.2 18.2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>naniar<span class="sc">::</span><span class="fu">miss_var_summary</span>(Wolves)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 3
   variable n_miss pct_miss
   &lt;chr&gt;     &lt;int&gt;    &lt;num&gt;
 1 group         0        0
 2 location      0        0
 3 sex           0        0
 4 x1            0        0
 5 x2            0        0
 6 x3            0        0
 7 x4            0        0
 8 x5            0        0
 9 x6            0        0
10 x7            0        0
11 x8            0        0
12 x9            0        0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Wolves)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   25 obs. of  12 variables:
 $ group   : Factor w/ 4 levels "ar:f","ar:m",..: 4 4 4 4 4 4 3 3 3 2 ...
 $ location: Factor w/ 2 levels "ar","rm": 2 2 2 2 2 2 2 2 2 1 ...
 $ sex     : Factor w/ 2 levels "f","m": 2 2 2 2 2 2 1 1 1 2 ...
 $ x1      : 'labelled' int  126 128 126 125 126 128 116 120 116 117 ...
  ..- attr(*, "label")= chr "palatal length"
 $ x2      : 'labelled' int  104 111 108 109 107 110 102 103 103 99 ...
  ..- attr(*, "label")= chr "postpalatal length"
 $ x3      : 'labelled' int  141 151 152 141 143 143 131 130 125 134 ...
  ..- attr(*, "label")= chr "zygomatic width"
 $ x4      : 'labelled' num  81 80.4 85.7 83.1 81.9 80.6 76.7 75.1 74.7 83.4 ...
  ..- attr(*, "label")= chr "palatal width-1"
 $ x5      : 'labelled' num  31.8 33.8 34.7 34 34 33 31.5 30.2 31.6 34.8 ...
  ..- attr(*, "label")= chr "palatal width-2"
 $ x6      : 'labelled' num  65.7 69.8 69.1 68 66.1 65 65 63.8 62.4 68 ...
  ..- attr(*, "label")= chr "postg foramina width"
 $ x7      : 'labelled' num  50.9 52.7 49.3 48.2 49 46.4 45.4 44.4 41.3 40.7 ...
  ..- attr(*, "label")= chr "interorbital width"
 $ x8      : 'labelled' num  44 43.2 45.6 43.8 42.4 40.2 39 41.1 44.2 37.1 ...
  ..- attr(*, "label")= chr "braincase width"
 $ x9      : 'labelled' num  18.2 18.5 17.9 18.4 17.9 18.2 16.8 16.9 17 17.2 ...
  ..- attr(*, "label")= chr "crown length"</code></pre>
</div>
</div>
<p>Com a base devidamente importada e sem a presença de valores faltantes, prosseguimos com a análise descritiva:</p>
<section id="análise-descritiva" class="level2">
<h2 class="anchored" data-anchor-id="análise-descritiva">Análise descritiva:</h2>
<p>Primeiro, verificamos as variáveis qualitativas da base de dados:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Wolves<span class="sc">$</span>sex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 f  m 
 9 16 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(Wolves<span class="sc">$</span>location)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
ar rm 
16  9 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Wolves <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> group))<span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">"#5A639C"</span>, <span class="at">width =</span> .<span class="dv">5</span>)<span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Frequência"</span>, <span class="at">x =</span> <span class="st">"Grupo"</span>)<span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/grupos-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Observa-se que o grupo mais presente na amostra são de lobos machos da localização “ar”.</p>
<p>Para as variáveis quantitativas, considere as seguintes medidas de resumo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Wolves[,<span class="dv">4</span><span class="sc">:</span><span class="dv">12</span>]) <span class="do">### Melhorar essas medidas -&gt; dp, cv, assimetria</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       x1              x2              x3              x4       
 Min.   :107.0   Min.   : 91.0   Min.   :125.0   Min.   :74.70  
 1st Qu.:113.0   1st Qu.: 99.0   1st Qu.:134.0   1st Qu.:78.10  
 Median :117.0   Median :102.0   Median :141.0   Median :81.00  
 Mean   :117.4   Mean   :101.7   Mean   :140.1   Mean   :80.46  
 3rd Qu.:120.0   3rd Qu.:104.0   3rd Qu.:144.0   3rd Qu.:82.40  
 Max.   :128.0   Max.   :111.0   Max.   :152.0   Max.   :85.70  
       x5              x6              x7             x8              x9       
 Min.   :30.10   Min.   :61.60   Min.   :40.7   Min.   :34.10   Min.   :16.50  
 1st Qu.:31.80   1st Qu.:65.00   1st Qu.:44.9   1st Qu.:39.00   1st Qu.:17.20  
 Median :32.80   Median :66.40   Median :46.4   Median :41.10   Median :17.80  
 Mean   :32.96   Mean   :66.16   Mean   :46.4   Mean   :40.93   Mean   :17.76  
 3rd Qu.:34.00   3rd Qu.:68.00   3rd Qu.:48.3   3rd Qu.:43.20   3rd Qu.:18.20  
 Max.   :37.20   Max.   :70.30   Max.   :52.7   Max.   :45.60   Max.   :19.00  </code></pre>
</div>
</div>
<p>Além das medidas resumos, pode ser de interesse realizar uma análise gráfica nos dados. Para isso, veja o histograma das variáveis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">3</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Wolves)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   25 obs. of  12 variables:
 $ group   : Factor w/ 4 levels "ar:f","ar:m",..: 4 4 4 4 4 4 3 3 3 2 ...
 $ location: Factor w/ 2 levels "ar","rm": 2 2 2 2 2 2 2 2 2 1 ...
 $ sex     : Factor w/ 2 levels "f","m": 2 2 2 2 2 2 1 1 1 2 ...
 $ x1      : 'labelled' int  126 128 126 125 126 128 116 120 116 117 ...
  ..- attr(*, "label")= chr "palatal length"
 $ x2      : 'labelled' int  104 111 108 109 107 110 102 103 103 99 ...
  ..- attr(*, "label")= chr "postpalatal length"
 $ x3      : 'labelled' int  141 151 152 141 143 143 131 130 125 134 ...
  ..- attr(*, "label")= chr "zygomatic width"
 $ x4      : 'labelled' num  81 80.4 85.7 83.1 81.9 80.6 76.7 75.1 74.7 83.4 ...
  ..- attr(*, "label")= chr "palatal width-1"
 $ x5      : 'labelled' num  31.8 33.8 34.7 34 34 33 31.5 30.2 31.6 34.8 ...
  ..- attr(*, "label")= chr "palatal width-2"
 $ x6      : 'labelled' num  65.7 69.8 69.1 68 66.1 65 65 63.8 62.4 68 ...
  ..- attr(*, "label")= chr "postg foramina width"
 $ x7      : 'labelled' num  50.9 52.7 49.3 48.2 49 46.4 45.4 44.4 41.3 40.7 ...
  ..- attr(*, "label")= chr "interorbital width"
 $ x8      : 'labelled' num  44 43.2 45.6 43.8 42.4 40.2 39 41.1 44.2 37.1 ...
  ..- attr(*, "label")= chr "braincase width"
 $ x9      : 'labelled' num  18.2 18.5 17.9 18.4 17.9 18.2 16.8 16.9 17 17.2 ...
  ..- attr(*, "label")= chr "crown length"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(Wolves)){</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">=</span> <span class="fu">names</span>(Wolves)[i]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">is.numeric</span>(Wolves[[i]])){</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    label <span class="ot">=</span> <span class="fu">attr</span>(Wolves[[i]], <span class="st">"label"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    main_title <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="sc">!</span><span class="fu">is.null</span>(label), label, name)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hist</span>(Wolves[[i]], <span class="at">xlab=</span> <span class="st">""</span>, <span class="at">main =</span> main_title)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/histograma-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Surge também, a necessidade de verificar a correlação entre as variáveis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pairs</span>(Wolves[,<span class="dv">4</span><span class="sc">:</span><span class="dv">12</span>], </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>      <span class="at">pch=</span><span class="dv">21</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/correlacao-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>corrplot<span class="sc">::</span><span class="fu">corrplot</span>(<span class="fu">cor</span>(Wolves[,<span class="dv">4</span><span class="sc">:</span><span class="dv">12</span>]), <span class="at">method =</span> <span class="st">"square"</span> , <span class="at">order =</span> <span class="st">"hclust"</span>, <span class="at">tl.col=</span><span class="st">'black'</span>, <span class="at">tl.cex=</span>.<span class="dv">75</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/correlacao-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Por fim, considere o boxplot das variáveis separadas por grupo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(Wolves)) {</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  var_name <span class="ot">=</span> <span class="fu">names</span>(Wolves)[i]</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.numeric</span>(Wolves[[var_name]])) {</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    label <span class="ot">&lt;-</span> <span class="fu">attr</span>(Wolves[[var_name]], <span class="st">"label"</span>)</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> Wolves, <span class="fu">aes_string</span>(<span class="at">x =</span> <span class="st">"group"</span>, <span class="at">y =</span> var_name)) <span class="sc">+</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(<span class="at">title =</span> label, <span class="at">x =</span> <span class="st">""</span>, <span class="at">y =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_minimal</span>()</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    plots[[<span class="fu">length</span>(plots) <span class="sc">+</span> <span class="dv">1</span>]] <span class="ot">&lt;-</span> p</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: `aes_string()` was deprecated in ggplot2 3.0.0.
ℹ Please use tidy evaluation idioms with `aes()`.
ℹ See also `vignette("ggplot2-in-packages")` for more information.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">do.call</span>(<span class="st">"grid.arrange"</span>, <span class="fu">c</span>(plots, <span class="at">ncol =</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.
Don't know how to automatically pick scale for object of type &lt;labelled&gt;.
Defaulting to continuous.</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/boxplot-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análise-de-discriminante" class="level2">
<h2 class="anchored" data-anchor-id="análise-de-discriminante">Análise de discriminante</h2>
<p>odod<br>
</p>
</section>
<section id="k-means" class="level2">
<h2 class="anchored" data-anchor-id="k-means">K-means</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### K-means ####</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Welcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> Wolves[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)] <span class="co">#Sem considera grupo -&lt; mas deveriamos considerar sexo e loc??</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">as.matrix</span>(X)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_nbclust</span>(X, kmeans, <span class="at">method =</span> <span class="st">"wss"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/ncluster-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Pelo gráfico parece razoável escolher 4 clusters</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>K <span class="ot">=</span> <span class="dv">4</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>km_res <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(X, <span class="at">centers =</span> K)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotar os clusters fornecidos pelo K-means</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(X, <span class="at">col =</span> km_res<span class="sc">$</span>cluster, <span class="at">pch =</span> <span class="dv">16</span>, <span class="at">main =</span> <span class="st">"Clusters K-means"</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotar os centróides dos grupos</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="fu">points</span>(km_res<span class="sc">$</span>centers, <span class="at">col =</span> <span class="dv">1</span><span class="sc">:</span>K, <span class="at">pch =</span> <span class="dv">8</span>, <span class="at">cex =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/clustering-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotar o gráfico de agrupamento usando fviz_cluster</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cluster</span>(km_res, <span class="at">data =</span> X,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">ggtheme =</span> <span class="fu">theme_minimal</span>(),</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">main =</span> <span class="st">"Gráfico de Agrupamento"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/clustering-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="agrupamento-hierárquico" class="level2">
<h2 class="anchored" data-anchor-id="agrupamento-hierárquico">Agrupamento hierárquico</h2>
<p>manter ou nao as variáveis sexo e location</p>
</section>
</section>
<section id="questão-3" class="level1">
<h1>Questão 3</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>dados <span class="ot">=</span> <span class="fu">read.table</span>(<span class="st">"https://raw.githubusercontent.com/Claudionor20/MultivariateAnalysis/main/bases/alimentos.txt"</span>, <span class="at">header =</span> T)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(dados)<span class="ot">=</span>dados<span class="sc">$</span>pais</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(dados)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     pais aveg aani  fleg carn pesc  lech  card cancer lmas
JAPAO               JAPAO 12.0  2.1 166.4 43.2 71.2  68.7 110.0  106.0   77
FRANCCA           FRANCCA 16.5 18.1 221.6 96.8 28.3 262.4 108.0  131.0   74
REINOUNIDO     REINOUNIDO 16.0  9.4 171.5 73.5 20.2 222.6 193.0  137.0   74
ESPANHA           ESPANHA 26.9  4.0 251.6 99.6 37.3 161.4 143.8  120.8   74
PAISESBAIXOS PAISESBAIXOS 17.0  8.2 224.4 96.4 14.4 340.0 160.8  136.7   74
NORUEGA           NORUEGA 13.2 16.5 178.4 59.4 61.3 265.4 174.4  121.7   73
             lfem
JAPAO          84
FRANCCA        82
REINOUNIDO     80
ESPANHA        80
PAISESBAIXOS   80
NORUEGA        80</code></pre>
</div>
</div>
<section id="hierarquia-parcial" class="level2">
<h2 class="anchored" data-anchor-id="hierarquia-parcial">Hierarquia parcial</h2>
<p>Em um primeiro momento, será de interesse construir um modelo hierárquico utilizando apenas as variáveis leite e fruta/legumes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>dados_LF <span class="ot">=</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dados, lech, fleg)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>dados_LF <span class="ot">=</span> <span class="fu">scale</span>(dados_LF)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>dist_matrix <span class="ot">=</span> <span class="fu">dist</span>(dados_LF)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>hc_FL <span class="ot">=</span> <span class="fu">hclust</span>(dist_matrix, <span class="at">method =</span> <span class="st">"complete"</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(hc_FL, <span class="at">main =</span> <span class="st">"Cluster usando Leite e Frutas/Legumes"</span>, <span class="at">sub =</span> <span class="st">""</span>, <span class="at">xlab =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/hir_leiteFL-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="hierarquia-completa" class="level2">
<h2 class="anchored" data-anchor-id="hierarquia-completa">Hierarquia completa</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>dados_All <span class="ot">=</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dados, <span class="sc">-</span>pais)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>dados_All <span class="ot">=</span> <span class="fu">scale</span>(dados_All)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>dist_matrix_All <span class="ot">=</span> <span class="fu">dist</span>(dados_All)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>hc_All <span class="ot">=</span> <span class="fu">hclust</span>(dist_matrix_All, <span class="at">method =</span> <span class="st">"complete"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hierarquica-completa-com-average" class="level2">
<h2 class="anchored" data-anchor-id="hierarquica-completa-com-average">Hierarquica completa com average</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>Xa <span class="ot">=</span> dplyr<span class="sc">::</span><span class="fu">select</span>(dados, <span class="sc">-</span>pais)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>Xa <span class="ot">=</span> <span class="fu">scale</span>(Xa)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>dist_matrix_avg <span class="ot">=</span> <span class="fu">dist</span>(Xa)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>hc_avg <span class="ot">=</span> <span class="fu">hclust</span>(dist_matrix_avg, <span class="at">method =</span> <span class="st">"average"</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(hc_avg, <span class="at">main =</span> <span class="st">"Average Linkage Hierarchical Clustering"</span>, <span class="at">sub =</span> <span class="st">""</span>, <span class="at">xlab =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/hier_avg-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cortando-as-árvores" class="level2">
<h2 class="anchored" data-anchor-id="cortando-as-árvores">cortando as árvores</h2>
<p>Cortando as árvores referente ao <span class="math inline">\(complete \quad linkage\)</span> com as variáveis leite e fruta/legumes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co">#k=2</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>clustersFL_2 <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc_FL, <span class="at">k =</span> <span class="dv">2</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>cluster_fl2 <span class="ot">=</span> <span class="fu">data.frame</span>(clustersFL_2)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>cluster_fl2<span class="sc">$</span>cluster <span class="ot">&lt;-</span> clustersFL_2</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>cluster_fl2<span class="sc">$</span>pais <span class="ot">=</span> dados<span class="sc">$</span>pais</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co">#k = 3</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>clustersFL_3 <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc_FL, <span class="at">k =</span> <span class="dv">3</span>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>cluster_fl3 <span class="ot">=</span> <span class="fu">data.frame</span>(clustersFL_3)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>cluster_fl3<span class="sc">$</span>cluster <span class="ot">&lt;-</span> clustersFL_3</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>cluster_fl3<span class="sc">$</span>pais <span class="ot">=</span> dados<span class="sc">$</span>pais</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>cluster_fl3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             clustersFL_3 cluster         pais
JAPAO                   1       1        JAPAO
FRANCCA                 2       2      FRANCCA
REINOUNIDO              2       2   REINOUNIDO
ESPANHA                 3       3      ESPANHA
PAISESBAIXOS            2       2 PAISESBAIXOS
NORUEGA                 2       2      NORUEGA
EEUU                    2       2         EEUU
MEXICO                  1       1       MEXICO
HUNGRIA                 1       1      HUNGRIA</code></pre>
</div>
</div>
<p>Cortando as árvores referente a <span class="math inline">\(complete \quad linkage\)</span> com todas variáveis</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">#k = 2</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>clustersAll_2 <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc_All, <span class="at">k =</span> <span class="dv">2</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>cluster_All2 <span class="ot">=</span> <span class="fu">data.frame</span>(clustersAll_2)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>cluster_All2<span class="sc">$</span>cluster <span class="ot">&lt;-</span> clustersAll_2</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>cluster_All2<span class="sc">$</span>pais <span class="ot">=</span> dados<span class="sc">$</span>pais</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>cluster_All2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             clustersAll_2 cluster         pais
JAPAO                    1       1        JAPAO
FRANCCA                  1       1      FRANCCA
REINOUNIDO               1       1   REINOUNIDO
ESPANHA                  1       1      ESPANHA
PAISESBAIXOS             1       1 PAISESBAIXOS
NORUEGA                  1       1      NORUEGA
EEUU                     1       1         EEUU
MEXICO                   1       1       MEXICO
HUNGRIA                  2       2      HUNGRIA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co">#k = 3</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>clustersAll_3 <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc_All, <span class="at">k =</span> <span class="dv">3</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>cluster_All3 <span class="ot">=</span> <span class="fu">data.frame</span>(clustersAll_3)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>cluster_All3<span class="sc">$</span>cluster <span class="ot">&lt;-</span> clustersAll_3</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>cluster_All3<span class="sc">$</span>pais <span class="ot">=</span> dados<span class="sc">$</span>pais</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>cluster_All3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>             clustersAll_3 cluster         pais
JAPAO                    1       1        JAPAO
FRANCCA                  2       2      FRANCCA
REINOUNIDO               1       1   REINOUNIDO
ESPANHA                  2       2      ESPANHA
PAISESBAIXOS             2       2 PAISESBAIXOS
NORUEGA                  1       1      NORUEGA
EEUU                     2       2         EEUU
MEXICO                   1       1       MEXICO
HUNGRIA                  3       3      HUNGRIA</code></pre>
</div>
</div>
</section>
<section id="visualização-gráfico---pesquisar-sobre" class="level2">
<h2 class="anchored" data-anchor-id="visualização-gráfico---pesquisar-sobre">Visualização gráfico -&gt; pesquisar sobre</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_cluster</span>(<span class="fu">list</span>(<span class="at">data =</span> dados_LF, <span class="at">cluster =</span> clustersFL_3),</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">geom =</span> <span class="st">"point"</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">ellipse.type =</span> <span class="st">"norm"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">main =</span> <span class="st">"Cluster usando Leite e Frutas/Legumes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Too few points to calculate an ellipse
Too few points to calculate an ellipse</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="questão-4" class="level1">
<h1>Questão 4</h1>
<section id="bases" class="level3">
<h3 class="anchored" data-anchor-id="bases">Bases</h3>
<p>Considere as bases a serem utilizadas na análise</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: dplyr</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Anexando pacote: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por 'package:gridExtra':

    combine</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(GGally)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: GGally</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Registered S3 method overwritten by 'GGally':
  method from   
  +.gg   ggplot2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reshape2)</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Carregando pacotes exigidos: lattice</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(corrplot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>corrplot 0.92 loaded</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>ips_componentes <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"https://raw.githubusercontent.com/Claudionor20/MultivariateAnalysis/main/bases/ips_componentes1620.csv"</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>ips_componentes <span class="ot">=</span> ips_componentes[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ips_componentes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ano regiao_administrativa ips_geral
1 2016        Rio De Janeiro     60.77
2 2016             Portuaria     45.33
3 2016                Centro     57.75
4 2016          Rio Comprido     52.43
5 2016              Botafogo     87.12
6 2016            Copacabana     82.93
  necessidades_humanas_basicas_nota_dimensao nutricao_cuidados_medicos_basicos
1                                      75.84                             70.19
2                                      59.10                             87.63
3                                      62.43                             59.38
4                                      58.97                             61.22
5                                      93.32                             85.15
6                                      94.58                             86.04
  agua_saneamento moradia seguranca_pessoal fundamentos_bem_estar_nota_dimensao
1           83.68   78.16             71.34                               53.28
2           80.80   67.97              0.00                               41.67
3           74.18   91.85             24.31                               52.41
4           84.36   64.78             25.52                               47.19
5           98.49   99.55             90.08                               81.13
6           99.32   96.54             96.42                               78.09
  acesso_conhecimento_basico acesso_informacao saude_bem_estar
1                      49.96             50.89           62.03
2                      41.34             20.73           64.74
3                      55.60             56.00           41.04
4                      34.00             42.08           47.84
5                      78.47             86.52           81.46
6                      80.93             81.95           72.39
  qualidade_meio_ambiente oportunidades_nota_dimensao direitos_individuais
1                   50.26                       53.20                61.46
2                   39.89                       35.23                39.35
3                   56.99                       58.42                45.89
4                   64.84                       51.14                66.89
5                   78.07                       86.91                68.19
6                   77.10                       76.13                64.65
  liberdades_individuais tolerancia_inclusao acesso_educacao_superior
1                  54.82               64.14                    32.36
2                  61.94               34.18                     5.43
3                  87.27               52.24                    48.26
4                  50.45               64.74                    22.48
5                  85.74               94.30                    99.39
6                  71.18               85.16                    83.53</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>ips_indicadores <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">"https://raw.githubusercontent.com/Claudionor20/MultivariateAnalysis/main/bases/ips_indicadores1620.csv"</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>ips_indicadores <span class="ot">=</span> ips_indicadores[,<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ips_indicadores)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ano regiao_administrativa mortalidade_infancia prop_baixo_peso_nascer
1 2016        Rio De Janeiro                 2.77                   9.21
2 2016             Portuaria                 0.91                   7.40
3 2016                Centro                 3.92                  10.53
4 2016          Rio Comprido                 3.71                  10.29
5 2016              Botafogo                 1.05                   9.16
6 2016            Copacabana                 1.82                   8.48
  mortalidade_materna taxa_internacoes_infantis_crise_respiratoria_aguda
1               52.61                                               8.48
2               75.81                                               9.66
3                0.00                                               9.77
4               27.93                                               7.88
5               14.80                                               4.15
6               25.58                                               2.73
  prop_acesso_agua_canalizada prop_acesso_esgotamento_sanitario
1                       98.47                             89.95
2                       99.73                             93.97
3                       99.66                             92.23
4                       99.46                             93.03
5                       99.87                             99.07
6                       99.92                             99.36
  prop_acesso_banheiro prop_populacao_vivendo_favelas_nao_urbanizadas
1                98.73                                          19.16
2                94.26                                          13.18
3                92.34                                           0.26
4                96.45                                          35.44
5                99.33                                           1.67
6                99.49                                           4.04
  prop_acesso_energia_eletrica prop_adensamento_habitacional_excessivo
1                        93.95                                    5.88
2                        91.12                                   10.20
3                        96.91                                    3.77
4                        90.77                                    8.13
5                        98.66                                    0.77
6                        97.20                                    1.07
  taxa_homicidios taxa_roubos_rua prop_alfabetizacao
1           18.07            6.70              52.75
2           44.01           31.17              54.89
3           28.67           54.73              52.70
4           43.02           10.69              60.99
5            4.16            8.16              42.55
6            3.72            3.34              34.44
  qualidade_ensino_fundamental_anos_iniciais
1                                       5.24
2                                       4.78
3                                       5.00
4                                       4.83
5                                       5.88
6                                       6.23
  qualidade_ensino_fundamental_anos_finais prop_abandono_escolar_ensino_medio
1                                     4.87                              11.57
2                                     4.96                              14.53
3                                     4.75                               1.67
4                                     4.50                               9.44
5                                     5.56                              11.78
6                                     5.25                              13.75
  prop_acesso_telefone_celular_fixo prop_acesso_internet
1                             96.25                51.26
2                             93.04                32.35
3                             97.47                50.76
4                             95.31                45.88
5                             99.76                75.55
6                             99.39                71.96
  taxa_mortalidade_doencas_cronicas taxa_incidencia_dengue
1                            184.31                 268.73
2                            194.40                 130.88
3                            250.53                 183.72
4                            201.20                 257.99
5                            129.56                 233.70
6                            147.03                 201.00
  taxa_mortalidade_tuberculose_hiv prop_coleta_seletiva_lixo
1                            19.77                      2.77
2                            19.25                      0.00
3                            33.40                      2.81
4                            32.09                      4.21
5                             8.33                      9.69
6                            16.75                     10.09
  degradacao_areas_verdes prop_mobilidade_urbana taxa_homicidios_acao_policial
1                   -0.02                  34.70                          4.40
2                   -0.02                  51.86                         10.89
3                    0.00                  68.68                          8.96
4                    0.01                  56.37                          4.94
5                    0.00                  73.28                          0.42
6                   -0.01                  93.52                          1.24
  tempo_medio_deslocamento taxa_participacao_politica
1                    28.83                       0.21
2                    42.94                       0.25
3                    31.04                       0.30
4                    23.25                       0.24
5                    25.65                       0.26
6                    24.71                       0.30
  prop_gravidez_adolescencia trabalho_infantil indice_acesso_cultura
1                      16.42             11.14                 30.34
2                      20.17              9.51                 67.26
3                      13.16              0.00                100.00
4                      16.99              3.69                  7.18
5                       4.32              8.33                 68.39
6                       7.59              2.48                 27.93
  taxa_violencia_contra_mulher taxa_homicidios_jovens_negros
1                       353.56                          9.00
2                       601.89                          6.13
3                      1009.09                          5.41
4                       417.22                          4.94
5                       217.04                          2.50
6                       362.29                          1.24
  prop_vulnerabilidade_familiar prop_pessoas_ensino_superior
1                          2.29                        21.26
2                          4.54                         3.88
3                          1.35                        24.02
4                          2.28                        15.16
5                          0.59                        57.03
6                          0.55                        50.49
  prop_negros_indigenas_ensino_superior prop_frequencia_ensino_superior
1                                  9.82                           28.04
2                                  2.10                            9.81
3                                 18.03                           39.37
4                                  6.63                           21.80
5                                 35.17                           68.69
6                                 28.34                           58.69</code></pre>
</div>
</div>
<p>Agrupando as bases de dados:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>ips <span class="ot">&lt;-</span> ips_componentes<span class="sc">|&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(ips_indicadores, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"ano"</span>, <span class="st">"regiao_administrativa"</span>))</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ips)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   ano regiao_administrativa ips_geral
1 2016        Rio De Janeiro     60.77
2 2016             Portuaria     45.33
3 2016                Centro     57.75
4 2016          Rio Comprido     52.43
5 2016              Botafogo     87.12
6 2016            Copacabana     82.93
  necessidades_humanas_basicas_nota_dimensao nutricao_cuidados_medicos_basicos
1                                      75.84                             70.19
2                                      59.10                             87.63
3                                      62.43                             59.38
4                                      58.97                             61.22
5                                      93.32                             85.15
6                                      94.58                             86.04
  agua_saneamento moradia seguranca_pessoal fundamentos_bem_estar_nota_dimensao
1           83.68   78.16             71.34                               53.28
2           80.80   67.97              0.00                               41.67
3           74.18   91.85             24.31                               52.41
4           84.36   64.78             25.52                               47.19
5           98.49   99.55             90.08                               81.13
6           99.32   96.54             96.42                               78.09
  acesso_conhecimento_basico acesso_informacao saude_bem_estar
1                      49.96             50.89           62.03
2                      41.34             20.73           64.74
3                      55.60             56.00           41.04
4                      34.00             42.08           47.84
5                      78.47             86.52           81.46
6                      80.93             81.95           72.39
  qualidade_meio_ambiente oportunidades_nota_dimensao direitos_individuais
1                   50.26                       53.20                61.46
2                   39.89                       35.23                39.35
3                   56.99                       58.42                45.89
4                   64.84                       51.14                66.89
5                   78.07                       86.91                68.19
6                   77.10                       76.13                64.65
  liberdades_individuais tolerancia_inclusao acesso_educacao_superior
1                  54.82               64.14                    32.36
2                  61.94               34.18                     5.43
3                  87.27               52.24                    48.26
4                  50.45               64.74                    22.48
5                  85.74               94.30                    99.39
6                  71.18               85.16                    83.53
  mortalidade_infancia prop_baixo_peso_nascer mortalidade_materna
1                 2.77                   9.21               52.61
2                 0.91                   7.40               75.81
3                 3.92                  10.53                0.00
4                 3.71                  10.29               27.93
5                 1.05                   9.16               14.80
6                 1.82                   8.48               25.58
  taxa_internacoes_infantis_crise_respiratoria_aguda
1                                               8.48
2                                               9.66
3                                               9.77
4                                               7.88
5                                               4.15
6                                               2.73
  prop_acesso_agua_canalizada prop_acesso_esgotamento_sanitario
1                       98.47                             89.95
2                       99.73                             93.97
3                       99.66                             92.23
4                       99.46                             93.03
5                       99.87                             99.07
6                       99.92                             99.36
  prop_acesso_banheiro prop_populacao_vivendo_favelas_nao_urbanizadas
1                98.73                                          19.16
2                94.26                                          13.18
3                92.34                                           0.26
4                96.45                                          35.44
5                99.33                                           1.67
6                99.49                                           4.04
  prop_acesso_energia_eletrica prop_adensamento_habitacional_excessivo
1                        93.95                                    5.88
2                        91.12                                   10.20
3                        96.91                                    3.77
4                        90.77                                    8.13
5                        98.66                                    0.77
6                        97.20                                    1.07
  taxa_homicidios taxa_roubos_rua prop_alfabetizacao
1           18.07            6.70              52.75
2           44.01           31.17              54.89
3           28.67           54.73              52.70
4           43.02           10.69              60.99
5            4.16            8.16              42.55
6            3.72            3.34              34.44
  qualidade_ensino_fundamental_anos_iniciais
1                                       5.24
2                                       4.78
3                                       5.00
4                                       4.83
5                                       5.88
6                                       6.23
  qualidade_ensino_fundamental_anos_finais prop_abandono_escolar_ensino_medio
1                                     4.87                              11.57
2                                     4.96                              14.53
3                                     4.75                               1.67
4                                     4.50                               9.44
5                                     5.56                              11.78
6                                     5.25                              13.75
  prop_acesso_telefone_celular_fixo prop_acesso_internet
1                             96.25                51.26
2                             93.04                32.35
3                             97.47                50.76
4                             95.31                45.88
5                             99.76                75.55
6                             99.39                71.96
  taxa_mortalidade_doencas_cronicas taxa_incidencia_dengue
1                            184.31                 268.73
2                            194.40                 130.88
3                            250.53                 183.72
4                            201.20                 257.99
5                            129.56                 233.70
6                            147.03                 201.00
  taxa_mortalidade_tuberculose_hiv prop_coleta_seletiva_lixo
1                            19.77                      2.77
2                            19.25                      0.00
3                            33.40                      2.81
4                            32.09                      4.21
5                             8.33                      9.69
6                            16.75                     10.09
  degradacao_areas_verdes prop_mobilidade_urbana taxa_homicidios_acao_policial
1                   -0.02                  34.70                          4.40
2                   -0.02                  51.86                         10.89
3                    0.00                  68.68                          8.96
4                    0.01                  56.37                          4.94
5                    0.00                  73.28                          0.42
6                   -0.01                  93.52                          1.24
  tempo_medio_deslocamento taxa_participacao_politica
1                    28.83                       0.21
2                    42.94                       0.25
3                    31.04                       0.30
4                    23.25                       0.24
5                    25.65                       0.26
6                    24.71                       0.30
  prop_gravidez_adolescencia trabalho_infantil indice_acesso_cultura
1                      16.42             11.14                 30.34
2                      20.17              9.51                 67.26
3                      13.16              0.00                100.00
4                      16.99              3.69                  7.18
5                       4.32              8.33                 68.39
6                       7.59              2.48                 27.93
  taxa_violencia_contra_mulher taxa_homicidios_jovens_negros
1                       353.56                          9.00
2                       601.89                          6.13
3                      1009.09                          5.41
4                       417.22                          4.94
5                       217.04                          2.50
6                       362.29                          1.24
  prop_vulnerabilidade_familiar prop_pessoas_ensino_superior
1                          2.29                        21.26
2                          4.54                         3.88
3                          1.35                        24.02
4                          2.28                        15.16
5                          0.59                        57.03
6                          0.55                        50.49
  prop_negros_indigenas_ensino_superior prop_frequencia_ensino_superior
1                                  9.82                           28.04
2                                  2.10                            9.81
3                                 18.03                           39.37
4                                  6.63                           21.80
5                                 35.17                           68.69
6                                 28.34                           58.69</code></pre>
</div>
</div>
</section>
<section id="análise-descritiva-de-dados" class="level2">
<h2 class="anchored" data-anchor-id="análise-descritiva-de-dados">Análise Descritiva de Dados</h2>
<section id="média-de-ips-ao-longo-dos-anos-por-região-administrativa" class="level3">
<h3 class="anchored" data-anchor-id="média-de-ips-ao-longo-dos-anos-por-região-administrativa">Média de IPS ao longo dos anos por região administrativa</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>ips <span class="sc">|&gt;</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(regiao_administrativa) <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">media_ips =</span> <span class="fu">mean</span>(ips_geral)) <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(media_ips)) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(regiao_administrativa, media_ips), <span class="at">y =</span> media_ips)) <span class="sc">+</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>) <span class="sc">+</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Média de IPS por Região Administrativa"</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Região Administrativa"</span>,</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Média de IPS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="evolução-anual-do-ips-de-cada-regisão-administrativa" class="level3">
<h3 class="anchored" data-anchor-id="evolução-anual-do-ips-de-cada-regisão-administrativa">Evolução anual do IPS de cada regisão administrativa</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>ips <span class="sc">|&gt;</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(ano), <span class="at">y =</span> ips_geral)) <span class="sc">+</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="fu">aes</span>(<span class="at">fill =</span> regiao_administrativa), <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span>  </span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>),  </span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>), </span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),  </span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"gray"</span>, <span class="at">linetype =</span> <span class="st">"dotted"</span>),  </span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()  </span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Evolução do IPS por Região Administrativa"</span>,</span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Ano"</span>,</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"IPS"</span>,</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Região Administrativa"</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> regiao_administrativa, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">ncol =</span> <span class="dv">6</span>)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="1440"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="boxplot-dos-indicadores-de-ips-por-ano" class="level3">
<h3 class="anchored" data-anchor-id="boxplot-dos-indicadores-de-ips-por-ano">Boxplot dos indicadores de IPS por ano</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>ips_geral <span class="ot">&lt;-</span> ips<span class="sc">|&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(ano,ips_geral)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>ips_geral<span class="sc">|&gt;</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(ano), <span class="at">y =</span> ips_geral)) <span class="sc">+</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="st">"Ano"</span>), <span class="at">color =</span> <span class="st">"gray50"</span>, <span class="at">outlier.color =</span> <span class="st">"red"</span>, <span class="at">outlier.shape =</span> <span class="dv">16</span>, <span class="at">outlier.size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="st">"#66C2A5"</span>) <span class="sc">+</span> </span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span></span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"none"</span>  </span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb67-15"><a href="#cb67-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb67-16"><a href="#cb67-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Distribuição do IPS por Ano"</span>,</span>
<span id="cb67-17"><a href="#cb67-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Ano"</span>,</span>
<span id="cb67-18"><a href="#cb67-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"IPS"</span></span>
<span id="cb67-19"><a href="#cb67-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="histogramas" class="level3">
<h3 class="anchored" data-anchor-id="histogramas">Histogramas</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>data_long <span class="ot">&lt;-</span> <span class="fu">melt</span>(ips, <span class="at">id.vars =</span> <span class="fu">c</span>(<span class="st">"ano"</span>, <span class="st">"regiao_administrativa"</span>))</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data_long, <span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> variable, <span class="at">scales =</span> <span class="st">"free_x"</span>) <span class="sc">+</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Histogramas Dos Indicadores do IPS"</span>,</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Valor"</span>,</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Frequência"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análise-de-correlação" class="level3">
<h3 class="anchored" data-anchor-id="análise-de-correlação">Análise de Correlação</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>correlacao <span class="ot">&lt;-</span> <span class="fu">cor</span>(ips[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>)])</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">corrplot</span>(correlacao, <span class="at">method =</span> <span class="st">"circle"</span>, <span class="at">tl.cex =</span> <span class="fl">0.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatorio-final_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="variáveis-de-alta-correlação-com-ips" class="level3">
<h3 class="anchored" data-anchor-id="variáveis-de-alta-correlação-com-ips">Variáveis de alta correlação com IPS</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>correlacao_ips <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(correlacao)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>correlacao_ips <span class="ot">&lt;-</span> correlacao_ips[<span class="dv">1</span>,]</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>variaveis_correlacionadas_ips <span class="ot">&lt;-</span> <span class="fu">which</span>(correlacao_ips <span class="sc">&gt;</span> <span class="fl">0.7</span>)</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>nomes_variaveis_correlacionadas_ips <span class="ot">&lt;-</span> <span class="fu">colnames</span>(correlacao_ips)[variaveis_correlacionadas_ips]</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(nomes_variaveis_correlacionadas_ips)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "ips_geral"                                 
 [2] "necessidades_humanas_basicas_nota_dimensao"
 [3] "moradia"                                   
 [4] "fundamentos_bem_estar_nota_dimensao"       
 [5] "acesso_conhecimento_basico"                
 [6] "acesso_informacao"                         
 [7] "oportunidades_nota_dimensao"               
 [8] "liberdades_individuais"                    
 [9] "tolerancia_inclusao"                       
[10] "acesso_educacao_superior"                  
[11] "prop_acesso_telefone_celular_fixo"         
[12] "prop_acesso_internet"                      
[13] "prop_coleta_seletiva_lixo"                 
[14] "prop_pessoas_ensino_superior"              
[15] "prop_negros_indigenas_ensino_superior"     
[16] "prop_frequencia_ensino_superior"           </code></pre>
</div>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># É possível perceber que a maioria dos indicadores de IPS possuem correlação alta com o próprio IPS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>